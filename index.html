<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3600813755953882" crossorigin="anonymous"></script>
    <meta name="robots" content="max-image-preview:large">
    <meta name="description" content="MBTI 유형별 궁합, 성격 분석, 연애/직장 팁을 확인하세요. 나와 찰떡궁합인 유형은?">
    <meta name="theme-color" content="#1abc9c">
    <meta name="keywords" content="MBTI, 궁합, 성격, 연애, 직장, 심리테스트, INFP, ENFJ, INTJ, 16유형">

    <!-- Open Graph -->
    <meta property="og:title" content="MBTI 궁합 & 팁 - 나와 찰떡궁합은 누구?">
    <meta property="og:description" content="MBTI 유형별 궁합, 성격 분석, 연애/직장 팁! 내 유형을 선택하고 찰떡궁합을 확인하세요 🧩">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://dopabrain.com/mbti-tips/">
    <meta property="og:image" content="https://dopabrain.com/mbti-tips/icon-512.svg">
    <meta property="og:locale" content="ko_KR">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="MBTI 궁합 & 팁 - 나와 찰떡궁합은?">
    <meta name="twitter:description" content="MBTI 유형별 궁합, 성격, 연애/직장 팁을 확인하세요!">

    <title>MBTI 궁합 & 팁</title>
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/svg+xml" href="icon-192.svg">
    <link rel="apple-touch-icon" href="icon-192.svg">
    <link rel="stylesheet" href="css/style.css">
    <!-- Google Analytics 4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-J8GSWM40TV"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-J8GSWM40TV');</script>
    <script src="js/i18n.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- 상단 배너 광고 영역 -->
        <div class="ad-banner top-ad"></div>

        <!-- 언어 선택기 -->
        <div class="language-selector">
            <button class="lang-btn" id="lang-toggle" title="Select Language">🌐</button>
            <div class="lang-menu hidden" id="lang-menu">
                <button class="lang-option" data-lang="ko">🇰🇷 한국어</button>
                <button class="lang-option" data-lang="en">🇺🇸 English</button>
                <button class="lang-option" data-lang="ja">🇯🇵 日本語</button>
                <button class="lang-option" data-lang="es">🇪🇸 Español</button>
                <button class="lang-option" data-lang="pt">🇧🇷 Português</button>
                <button class="lang-option" data-lang="zh">🇨🇳 简体中文</button>
                <button class="lang-option" data-lang="id">🇮🇩 Bahasa Indonesia</button>
                <button class="lang-option" data-lang="tr">🇹🇷 Türkçe</button>
                <button class="lang-option" data-lang="de">🇩🇪 Deutsch</button>
                <button class="lang-option" data-lang="fr">🇫🇷 Français</button>
                <button class="lang-option" data-lang="hi">🇮🇳 हिन्दी</button>
                <button class="lang-option" data-lang="ru">🇷🇺 Русский</button>
            </div>
        </div>

        <!-- 헤더 -->
        <header class="app-header">
            <h1 data-i18n="header.title">🧬 MBTI 궁합 & 팁</h1>
            <p class="subtitle" data-i18n="header.subtitle">나의 유형을 선택하고 궁합을 확인하세요</p>
        </header>

        <!-- 메인 콘텐츠 -->
        <main class="main-content">
            <!-- MBTI 선택 그리드 -->
            <section class="mbti-selector">
                <h2 data-i18n="selector.label">나의 MBTI 유형 선택</h2>
                <div class="mbti-grid" id="mbti-grid">
                    <!-- 분석가 그룹 -->
                    <button class="mbti-btn analyst" data-type="INTJ">INTJ</button>
                    <button class="mbti-btn analyst" data-type="INTP">INTP</button>
                    <button class="mbti-btn analyst" data-type="ENTJ">ENTJ</button>
                    <button class="mbti-btn analyst" data-type="ENTP">ENTP</button>
                    <!-- 외교관 그룹 -->
                    <button class="mbti-btn diplomat" data-type="INFJ">INFJ</button>
                    <button class="mbti-btn diplomat" data-type="INFP">INFP</button>
                    <button class="mbti-btn diplomat" data-type="ENFJ">ENFJ</button>
                    <button class="mbti-btn diplomat" data-type="ENFP">ENFP</button>
                    <!-- 관리자 그룹 -->
                    <button class="mbti-btn sentinel" data-type="ISTJ">ISTJ</button>
                    <button class="mbti-btn sentinel" data-type="ISFJ">ISFJ</button>
                    <button class="mbti-btn sentinel" data-type="ESTJ">ESTJ</button>
                    <button class="mbti-btn sentinel" data-type="ESFJ">ESFJ</button>
                    <!-- 탐험가 그룹 -->
                    <button class="mbti-btn explorer" data-type="ISTP">ISTP</button>
                    <button class="mbti-btn explorer" data-type="ISFP">ISFP</button>
                    <button class="mbti-btn explorer" data-type="ESTP">ESTP</button>
                    <button class="mbti-btn explorer" data-type="ESFP">ESFP</button>
                </div>
                <div class="group-legend">
                    <span class="legend-item analyst" data-i18n="selector.groupLegend.analyst">🔮 분석가</span>
                    <span class="legend-item diplomat" data-i18n="selector.groupLegend.diplomat">💚 외교관</span>
                    <span class="legend-item sentinel" data-i18n="selector.groupLegend.sentinel">🛡️ 관리자</span>
                    <span class="legend-item explorer" data-i18n="selector.groupLegend.explorer">🎨 탐험가</span>
                </div>
            </section>

            <!-- 친구 비교 섹션 -->
            <section class="compare-section">
                <h2 data-i18n="compare.title">🤝 친구와 궁합 비교</h2>
                <div class="compare-grid">
                    <div class="compare-slot">
                        <span class="compare-label" data-i18n="compare.me">나</span>
                        <span class="compare-type" id="compare-my-type" data-i18n="compare.selectType">선택하세요</span>
                    </div>
                    <span class="compare-vs" data-i18n="compare.vs">VS</span>
                    <div class="compare-slot">
                        <span class="compare-label" data-i18n="compare.friend">친구</span>
                        <select class="compare-select" id="compare-friend-select">
                            <option value="" data-i18n="compare.selectType">유형 선택</option>
                            <option value="INTJ">INTJ</option>
                            <option value="INTP">INTP</option>
                            <option value="ENTJ">ENTJ</option>
                            <option value="ENTP">ENTP</option>
                            <option value="INFJ">INFJ</option>
                            <option value="INFP">INFP</option>
                            <option value="ENFJ">ENFJ</option>
                            <option value="ENFP">ENFP</option>
                            <option value="ISTJ">ISTJ</option>
                            <option value="ISFJ">ISFJ</option>
                            <option value="ESTJ">ESTJ</option>
                            <option value="ESFJ">ESFJ</option>
                            <option value="ISTP">ISTP</option>
                            <option value="ISFP">ISFP</option>
                            <option value="ESTP">ESTP</option>
                            <option value="ESFP">ESFP</option>
                        </select>
                    </div>
                </div>
                <div class="compare-result hidden" id="compare-result"></div>
            </section>

            <!-- 결과 카드 (선택 후 표시) -->
            <section class="result-section hidden" id="result-section">
                <!-- 기본 정보 -->
                <div class="result-card main-card">
                    <div class="type-header">
                        <span class="type-icon" id="type-icon">🧬</span>
                        <div>
                            <h2 id="type-name">INTJ</h2>
                            <p class="type-title" id="type-title">전략가</p>
                        </div>
                    </div>
                    <p class="type-description" id="type-description"></p>
                    
                    <div class="traits-grid">
                        <div class="trait-item">
                            <span class="trait-label" data-i18n="traits.energy">에너지</span>
                            <span class="trait-value" id="trait-energy">내향형</span>
                        </div>
                        <div class="trait-item">
                            <span class="trait-label" data-i18n="traits.mind">인식</span>
                            <span class="trait-value" id="trait-mind">직관형</span>
                        </div>
                        <div class="trait-item">
                            <span class="trait-label" data-i18n="traits.nature">판단</span>
                            <span class="trait-value" id="trait-nature">사고형</span>
                        </div>
                        <div class="trait-item">
                            <span class="trait-label" data-i18n="traits.tactic">생활</span>
                            <span class="trait-value" id="trait-tactic">계획형</span>
                        </div>
                    </div>
                </div>

                <!-- 궁합 정보 -->
                <div class="result-card compat-card">
                    <h3 data-i18n="compatibility.title">💕 연애 궁합</h3>
                    <div class="compat-section">
                        <div class="compat-item best">
                            <span class="compat-label" data-i18n="compatibility.best">💖 최고 궁합</span>
                            <span class="compat-types" id="best-match"></span>
                        </div>
                        <div class="compat-item good">
                            <span class="compat-label" data-i18n="compatibility.good">💛 좋은 궁합</span>
                            <span class="compat-types" id="good-match"></span>
                        </div>
                        <div class="compat-item bad">
                            <span class="compat-label" data-i18n="compatibility.bad">💔 주의 궁합</span>
                            <span class="compat-types" id="bad-match"></span>
                        </div>
                    </div>
                </div>

                <!-- 팁 섹션 -->
                <div class="result-card tips-card">
                    <h3 data-i18n="tips.title">💡 알아두면 좋은 팁</h3>
                    <div class="tips-tabs">
                        <button class="tip-tab active" data-tab="love" data-i18n="tips.love">연애</button>
                        <button class="tip-tab" data-tab="work" data-i18n="tips.work">직장</button>
                        <button class="tip-tab" data-tab="friend" data-i18n="tips.friend">친구</button>
                    </div>
                    <div class="tips-content" id="tips-content">
                        <ul id="tips-list"></ul>
                    </div>
                </div>

                <!-- 프리미엄 심층 분석 버튼 -->
                <div class="premium-section">
                    <button class="premium-btn" id="deep-analysis-btn">
                        <span class="premium-icon">✨</span>
                        <span data-i18n="premium.button">AI 심층 분석 보기</span>
                        <span class="ad-tag" data-i18n="ad.label">AD</span>
                    </button>
                </div>

                <!-- 프리미엄 결과 (광고 후 표시) -->
                <div class="result-card premium-result hidden" id="premium-result">
                    <div class="premium-badge" data-i18n="premium.badge">✨ AI 심층 분석</div>
                    <div id="premium-content"></div>
                </div>

                <!-- 공유 버튼 -->
                <button class="share-btn" id="share-btn" data-i18n="buttons.share">📤 결과 공유하기</button>

                <!-- 크로스 프로모션 섹션 -->
                <div class="recommendations-section">
                    <div class="rec-title" data-i18n="recommendations.title">이것도 해보세요</div>
                    <div class="rec-grid">
                        <a href="https://dopabrain.com/mbti-love/" class="rec-card" target="_blank">
                            <span class="rec-icon">💕</span>
                            <span class="rec-info">
                                <span class="rec-name">MBTI 연애 궁합</span>
                                <span class="rec-desc">나와 찰떡인 MBTI 유형은?</span>
                            </span>
                        </a>
                        <a href="https://dopabrain.com/kpop-position/" class="rec-card" target="_blank">
                            <span class="rec-icon">🎤</span>
                            <span class="rec-info">
                                <span class="rec-name">K-POP 포지션 테스트</span>
                                <span class="rec-desc">나의 아이돌 포지션은?</span>
                            </span>
                        </a>
                        <a href="https://dopabrain.com/emotion-temp/" class="rec-card" target="_blank">
                            <span class="rec-icon">🌡️</span>
                            <span class="rec-info">
                                <span class="rec-name">감정 온도계 테스트</span>
                                <span class="rec-desc">나의 감정 온도는 몇 도?</span>
                            </span>
                        </a>
                        <a href="https://dopabrain.com/hsp-test/" class="rec-card" target="_blank">
                            <span class="rec-icon">🧠</span>
                            <span class="rec-info">
                                <span class="rec-name">HSP 민감성 테스트</span>
                                <span class="rec-desc">나는 고감수성자일까?</span>
                            </span>
                        </a>
                    </div>
                </div>
            </section>
        </main>

        <!-- 전면 광고 모달 -->
        <div class="interstitial-ad hidden" id="interstitial-ad">
            <div class="ad-content">
                <p>광고</p>
                <div class="ad-placeholder">광고 영역</div>
                <button id="close-ad" disabled>닫기 (<span id="countdown">5</span>)</button>
            </div>
        </div>

        <!-- 하단 배너 광고 영역 -->
        <div class="ad-banner bottom-ad"></div>

        <!-- Hidden canvas for sharing images -->
        <canvas id="share-canvas" width="1080" height="1080" style="display:none"></canvas>

        <!-- Footer with Home Link -->
        <footer class="game-footer">
            <a href="https://dopabrain.com/portal/" class="back-link" data-i18n="game.back">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16"><path d="m15 18-6-6 6-6"></path></svg>
                DopaBrain 홈
            </a>
        </footer>
    </div>

    <script src="js/data.js"></script>
    <script src="js/app.js"></script>
    <script>
        // Initialize i18n system
        (async function initI18n() {
            await i18n.loadTranslations(i18n.getCurrentLanguage());
            i18n.updateUI();
            const langToggle = document.getElementById('lang-toggle');
            const langMenu = document.getElementById('lang-menu');
            const langOptions = document.querySelectorAll('.lang-option');
            document.querySelector(`[data-lang="${i18n.getCurrentLanguage()}"]`)?.classList.add('active');
            langToggle?.addEventListener('click', () => langMenu.classList.toggle('hidden'));
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.language-selector')) langMenu?.classList.add('hidden');
            });
            langOptions.forEach(opt => {
                opt.addEventListener('click', async () => {
                    await i18n.setLanguage(opt.getAttribute('data-lang'));
                    langOptions.forEach(o => o.classList.remove('active'));
                    opt.classList.add('active');
                    langMenu.classList.add('hidden');
                });
            });
        })();
    </script>
</body>
</html>
